webpackJsonp([48],{250:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var a=function(){return i.e(49).then(i.bind(null,254))}},252:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var a=function(){return i.e(43).then(i.bind(null,256))}},262:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(289),n=i(352),l=i(26),s=l(a.a,n.a,!1,null,null,null);e.default=s.exports},289:function(t,e,i){"use strict";var a=i(250),n=i(252),l=i(253);e.a={name:"line-items",components:{Autocomplete:a.a,DialogView:n.a,LineItemForm:l.b},props:{data:{type:Array,default:[]},action:{type:Function,required:!0},field:{type:String,required:!0},placeholder:{type:String,default:"Type and Select"},fk:{type:String,required:!0},items:{type:Array}},computed:{itemParam:{get:function(){return this.item},set:function(t){var e={label:t[this.field],quantity:"",price:""};e[this.fk]=t.id,this.validItemSelected=!0,this.$set(this,"item",e)}},itemParams:function(){return this.items||this.lineItems}},methods:{addLineItems:function(){var t=this,e=this.$refs.addForm;e.valid().then(function(i){if(i){if(t.itemParams.find(function(i){return e.item[t.fk]===i[t.fk]}))t.$toastr.e("Item already added.");else{var a=t.getItemParams(e.item);t.itemParams.push(a),t.total+=a.price*a.quantity,t.$refs.addDialog.closeModal(),t.proceed()}}})},getItemParams:function(t){var e={label:t[this.field]||t.label,quantity:t.quantity,price:t.price};return e[this.fk]=t[this.fk],e},toggleDialog:function(t){t?this.$refs.addDialog.showModal():this.$refs.addDialog.close()},proceed:function(){this.valid()&&(this.$emit("selectedLineItems",this.itemParams),this.$emit("totalSelectedItemsAmount",this.total))},valid:function(){return this.itemParams.length>0||(this.$toastr.e("Please select items"),!1)}},data:function(){return{lineItems:this.items||[],item:{label:"",price:"",quantity:""},validItemSelected:!1,total:0}}}},352:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"items"},[i("table",{staticClass:"mdl-data-table mdl-js-data-table"},[t._m(0),t._v(" "),i("tbody",t._l(t.itemParams,function(e){return i("tr",{key:e[t.fk]},[i("th",[t._v(t._s(e.label))]),t._v(" "),i("th",[t._v(t._s(e.price))]),t._v(" "),i("th",[t._v(t._s(e.quantity))]),t._v(" "),i("th",[t._v(t._s(e.price*e.quantity))])])}))])]),t._v(" "),i("button",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored custom-button--right custom-button--primary",on:{click:function(e){t.toggleDialog(!0)}}},[t._v("\n    Add\n    ")]),t._v(" "),i("dialog-view",{ref:"addDialog",on:{cancel:function(e){t.validItemSelected=!1}}},[i("span",{attrs:{slot:"button-text"},slot:"button-text"},[t._v(" Add ")]),t._v(" "),i("div",{attrs:{slot:"dialog-body"},slot:"dialog-body"},[t.validItemSelected?i("line-item-form",{ref:"addForm",attrs:{item:t.itemParam}}):i("autocomplete",{attrs:{data:t.data,action:t.action,field:t.field,multiSelect:!1,placeholder:t.placeholder,emitObjects:!0,displayChips:!1},on:{selected:function(e){t.itemParam=e}}})],1),t._v(" "),t.validItemSelected?i("button",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored custom-button--primary",attrs:{slot:"dialog-actions",type:"button"},on:{click:t.addLineItems},slot:"dialog-actions"},[t._v(" Add ")]):t._e()])],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Material")]),t._v(" "),i("th",[t._v("Price")]),t._v(" "),i("th",[t._v("Quantity")]),t._v(" "),i("th",[t._v("Amount")])])])}],l={render:a,staticRenderFns:n};e.a=l}});
//# sourceMappingURL=48.ec91a88c9f812c4819e2.js.map