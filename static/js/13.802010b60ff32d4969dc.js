webpackJsonp([13],{237:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(306),n=s(373),l=s(26),a=l(i.a,n.a,!1,null,null,null);e.default=a.exports},253:function(t,e,s){"use strict";s.d(e,"b",function(){return i}),s.d(e,"a",function(){return n}),s.d(e,"d",function(){return l}),s.d(e,"c",function(){return a});var i=function(){return s.e(55).then(s.bind(null,258))},n=function(){return s.e(44).then(s.bind(null,260))},l=function(){return s.e(50).then(s.bind(null,261))},a=function(){return s.e(48).then(s.bind(null,262))}},306:function(t,e,s){"use strict";var i=s(27),n=s.n(i),l=s(15),a=s(253);e.a={name:"procurement-form",props:{afterSuccess:{type:Function}},components:{ClientView:a.a,LineItemsView:a.c},computed:n()({},Object(l.c)({clients:"getClients",products:"getProducts"}),{clientParams:{get:function(){return this.client},set:function(t){this.params.client=t.client,this.client=t,this.clientSelectView=!1}},lineItemParams:{get:function(){return this.params.line_items},set:function(t){this.$set(this.params,"line_items",t)}}}),methods:n()({},Object(l.b)(["fetchClients","fetchProducts","addProcurement"]),{toggleClientView:function(){this.clientSelectView=!this.clientSelectView},proceed:function(){var t=this;this.$validator.validateAll().then(function(e){if(e)return t.$refs.client.valid()}).then(function(e){if(e)return t.$refs.products.valid()}).then(function(e){e&&t.addProcurement(t.params).then(function(){t.afterSuccess(!1),t.$toastr.s("success")}).catch(function(e){t.errors.push(e.response.data.errors),t.$toastr.e(e)})})}}),data:function(){return{clientSelectView:!0,params:{client:"",line_items:[],procurement_number:""},client:{},total:0}}}},373:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mdl-grid order"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.clientSelectView,expression:"clientSelectView"}],staticClass:"mdl-cell--12-col-desktop\tmdl-cell--4-col-phone"},[s("div",{staticClass:"text-center"},[s("client-view",{ref:"client",attrs:{enableManual:!1,data:t.clients.data,action:t.fetchClients,fk:"client",status:"",dependOnStatus:!1,displayDetails:!1,placeholder:"Select Client"},on:{clientSelected:function(e){t.clientParams=e}}})],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.clientSelectView,expression:"!clientSelectView"}],staticClass:"mdl-cell--6-col-desktop\tmdl-cell--4-col-phone"},[s("div",[s("ul",{staticClass:"mdl-list"},[s("li",{staticClass:"mdl-list__item mdl-list__item--two-line"},[s("span",{staticClass:"mdl-list__item-primary-content"},[s("i",{staticClass:"material-icons mdl-list__item-avatar"},[t._v("person")]),t._v(" "),s("strong",[t._v(t._s(t.clientParams.name))]),t._v(" "),s("span",{staticClass:"mdl-list__item-sub-title"},[t._v("\n              "+t._s(t.clientParams.email)+"\n            ")]),t._v(" "),s("span",{staticClass:"mdl-list__item-sub-title"},[t._v("\n              "+t._s(t.clientParams.address)+"\n            ")]),t._v(" "),s("span",{staticClass:"mdl-list__item-sub-title"},[s("strong",[t._v(t._s(t.clientParams.contact_number))])])])])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.clientSelectView,expression:"!clientSelectView"}],staticClass:"mdl-cell--6-col-desktop\tmdl-cell--4-col-phone"},[s("ul",{staticClass:"mdl-list"},[s("li",{staticClass:"mdl-list__item mdl-list__item--two-line"},[s("span",{staticClass:"mdl-list__item-primary-content"},[s("strong",[t._v("GST Number")]),t._v(" "),s("span",{staticClass:"mdl-list__item-sub-title"},[t._v("\n            "+t._s(t.clientParams.gst_number)+"\n            ")])]),t._v(" "),s("span",{staticClass:"mdl-list__item-secondary-content",on:{click:t.toggleClientView}},[t._m(0)])]),t._v(" "),s("li",{staticClass:"mdl-list__item mdl-list__item--two-line"},[s("span",{staticClass:"mdl-list__item-primary-content"},[s("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:{errors:t.errors.has("procurementNumber")}},[s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.params.procurement_number,expression:"params.procurement_number"}],staticClass:"mdl-textfield__input",attrs:{name:"procurementNumber",id:"procurementNumber"},domProps:{value:t.params.procurement_number},on:{input:function(e){e.target.composing||t.$set(t.params,"procurement_number",e.target.value)}}}),t._v(" "),s("label",{staticClass:"mdl-textfield__label",attrs:{for:"name"}},[t._v("Procurement Number")]),t._v(" "),s("span",{staticClass:"mdl-textfield__error"},[t._v(t._s(t.errors.first("procurementNumber")))])])])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.clientParams.name,expression:"clientParams.name"}],staticClass:"mdl-cell--12-col-desktop\tmdl-cell--4-col-phone  text-center"},[s("hr"),t._v(" "),s("span",{},[t._v("Products")]),t._v(" "),s("hr"),t._v(" "),s("line-items-view",{ref:"products",attrs:{data:t.products.data,action:t.fetchProducts,field:"name",fk:"product"},on:{selectedLineItems:function(e){t.lineItemParams=e},totalSelectedItemsAmount:function(e){t.total=e}}})],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.clientSelectView,expression:"!clientSelectView"}],staticClass:"mdl-cell--12-col-desktop\tmdl-cell--4-col-phone text-right"},[s("hr"),t._v(" "),s("strong",[t._v("Total   "+t._s(t.total))]),t._v(" "),s("hr")])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"mdl-list__item-secondary-action",attrs:{href:"#"}},[s("i",{staticClass:"material-icons"},[t._v("create")])])}],l={render:i,staticRenderFns:n};e.a=l}});
//# sourceMappingURL=13.802010b60ff32d4969dc.js.map