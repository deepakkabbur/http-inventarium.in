webpackJsonp([49],{254:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(286),s=i(346),c=i(26),o=c(n.a,s.a,!1,null,null,null);e.default=o.exports},286:function(t,e,i){"use strict";var n=i(345);e.a={name:"autocomplete",props:{data:{type:Array,default:[]},field:{type:String,required:!0},action:{type:Function,required:!0},multiSelect:{type:Boolean,default:!1},placeholder:{type:String,default:""},displayChips:{type:Boolean,default:!0},emitObjects:{type:Boolean,default:!1}},mounted:function(){window.componentHandler.upgradeAllRegistered()},data:function(){return{search:"",isOpen:!1,counter:0,selected:{},selectedObjectList:[],selectedIdList:[]}},methods:{onChange:function(){if(this.search.length>3)try{n(this.fetchData(),500)}catch(t){return t}},fetchData:function(){var t=this;this.action({search:this.search,paze_size:25}).then(function(){t.isOpen=!0})},onKeyDown:function(){this.counter<this.data.length&&(this.counter=this.counter+1,this.selected=this.data[this.counter])},onKeyUp:function(){this.counter>0&&(this.counter=this.counter-1,this.selected=this.data[this.counter])},onEnter:function(){this.onSelect()},onClick:function(t){this.selected=t,this.onSelect()},emitValue:function(){this.multiSelect&&this.emitObjects?this.$emit("selected",this.selectedObjectList):this.multiSelect?this.$emit("selected",this.selectedIdList):this.$emit("selected",this.selected)},onSelect:function(){this.counter=0,this.isOpen=!1,this.search="",this.multiSelect&&-1===this.selectedIdList.indexOf(this.selected.id)&&(this.selectedObjectList.push(this.selected),this.selectedIdList.push(this.selected.id)),this.emitValue()},deselect:function(t){var e=[],i=[];this.selectedObjectList.forEach(function(n){n.id!==t.id&&(e.push(n),i.push(n.id))}),this.$set(this,"selectedObjectList",e),this.$set(this,"selectedIdList",i),this.emitValue()}}}},345:function(t,e,i){(function(e){function i(t,e,i){function s(e){var i=m,n=v;return m=v=void 0,C=e,b=t.apply(n,i)}function c(t){return C=t,_=setTimeout(u,e),x?s(t):b}function a(t){var i=t-w,n=t-C,s=e-i;return k?j(s,y-n):s}function r(t){var i=t-w,n=t-C;return void 0===w||i>=e||i<0||k&&n>=y}function u(){var t=g();if(r(t))return d(t);_=setTimeout(u,a(t))}function d(t){return _=void 0,S&&m?s(t):(m=v=void 0,b)}function f(){void 0!==_&&clearTimeout(_),C=0,m=w=v=_=void 0}function h(){return void 0===_?b:d(g())}function p(){var t=g(),i=r(t);if(m=arguments,v=this,w=t,i){if(void 0===_)return c(w);if(k)return _=setTimeout(u,e),s(w)}return void 0===_&&(_=setTimeout(u,e)),b}var m,v,y,b,_,w,C=0,x=!1,k=!1,S=!0;if("function"!=typeof t)throw new TypeError(l);return e=o(e)||0,n(i)&&(x=!!i.leading,k="maxWait"in i,y=k?O(o(i.maxWait)||0,e):y,S="trailing"in i?!!i.trailing:S),p.cancel=f,p.flush=h,p}function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return!!t&&"object"==typeof t}function c(t){return"symbol"==typeof t||s(t)&&_.call(t)==r}function o(t){if("number"==typeof t)return t;if(c(t))return a;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var i=f.test(t);return i||h.test(t)?p(t.slice(2),i?2:8):d.test(t)?a:+t}var l="Expected a function",a=NaN,r="[object Symbol]",u=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,h=/^0o[0-7]+$/i,p=parseInt,m="object"==typeof e&&e&&e.Object===Object&&e,v="object"==typeof self&&self&&self.Object===Object&&self,y=m||v||Function("return this")(),b=Object.prototype,_=b.toString,O=Math.max,j=Math.min,g=function(){return y.Date.now()};t.exports=i}).call(e,i(16))},346:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"autocomplete"},[i("div",t._l(t.selectedObjectList,function(e){return t.multiSelect&&t.displayChips?i("span",{key:e.id,staticClass:"mdl-chip mdl-chip--deletable"},[i("span",{staticClass:"mdl-chip__text"},[t._v(t._s(e[t.field]))]),t._v(" "),i("button",{staticClass:"mdl-chip__action",attrs:{type:"button"},on:{click:function(i){t.deselect(e)}}},[i("i",{staticClass:"material-icons"},[t._v("cancel")])])]):t._e()})),t._v(" "),i("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"mdl-textfield__input",attrs:{type:"text",id:"autocomplete"},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.onChange],keydown:[function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?t.onKeyDown(e):null},function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?t.onKeyUp(e):null}]}}),t._v(" "),i("label",{staticClass:"mdl-textfield__label",attrs:{for:"autocomplete"}},[t._v(t._s(t.placeholder))]),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"autocomplete-results"},t._l(t.data,function(e,n){return i("li",{key:n,staticClass:"autocomplete-result",class:{active:n===t.counter},on:{click:function(i){t.onClick(e)}}},[t._v("\n        "+t._s(e[t.field])+"\n      ")])}))])])},s=[],c={render:n,staticRenderFns:s};e.a=c}});
//# sourceMappingURL=49.06649ff9a8f62c8efd66.js.map